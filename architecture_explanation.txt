ASP.NET CORE ARCHITECTURE: TECHNICAL ARCHITECTURE SUMMARY

================================================================================
I. URL ROUTING ENGINE
================================================================================

Definition: 
Routing is the process of mapping incoming HTTP requests to specific executable action methods using pattern matching against URL templates.

Detailed Workflow Steps:
1. HTTP Request Received: The server receives a raw request which enters the middleware pipeline.
2. UseRouting middleware: Activates the routing system and adds endpoint match information to the request context.
3. Template Matching: The engine compares the URL against defined route templates.
4. Route Selection: It picks between Attribute Routing ([Route] on controllers - recommended) or Conventional Routing (MapControllerRoute in Program.cs).
5. UseEndpoints() / MapControllers(): Executes the mapping logic and redirects the call to the selected resource.
6. Action Execution: The request is handed over to the specific Action Method.

Key Attributes/Methods:
- UseRouting() / UseEndpoints()
- [Route], [HttpGet], [HttpPost]
- EndpointRoutingMiddleware


================================================================================
II. MODEL BINDING PROCESS
================================================================================

Definition:
Model Binding retrieves data from various HTTP sources (Form, Route, Query) and assigns it to strongly-typed parameters of an Action Method.

Detailed Workflow Steps:
1. Data Source Scanning: Framework looks for values in Form Data, Route variables, Query strings, and the Request Body (JSON).
2. Primitive Model Binder: Used for simple types (int, string, bool, etc.). Usually pulls data from URI sources like Query or Route.
3. Complex Model Binder: Used for objects/classes. Standard behavior for POST/PUT requests where data is in the JSON Request Body.
4. Value Provision: The IModelBinder maps these values to the corresponding properties/parameters.
5. Binding Result: The parameters are populated and passed into the target Action.

Key Attributes/Methods:
- [FromRoute], [FromQuery], [FromBody], [FromForm], [FromHeader]
- IModelBinder / IModelBinderProvider
- ValueProviders


================================================================================
III. MODEL VALIDATION PIPELINE
================================================================================

Definition:
Model Validation verifies the bound data against rules defined via metadata (Attributes) before any business logic is executed.

Detailed Workflow Steps:
1. Bound Model Received: The object populated by the Binding phase is passed to the validator.
2. Annotation Check: The system scans the model for Data Annotation attributes ([Required], [Range], etc.).
3. ModelState Dictionary: Success or error messages are populated into the 'ModelState' dictionary.
4. Validity Decision: The application checks the 'ModelState.IsValid' boolean.
5. logic Flow:
   - If Valid: Control proceeds to the business logic.
   - If Invalid: The pipeline can trigger an automatic 400 Bad Request (for [ApiController]) or return an error view.

Key Attributes/Methods:
- [Required], [StringLength], [Range], [EmailAddress], [RegularExpression]
- ModelState.IsValid
- TryValidateModel() / ModelState.ClearValidationState()


================================================================================
SUMMARY
================================================================================
The request lifecycle is a structured sequence:
1. Routing (MATCH): Identify the destination.
2. Binding (POPULATE): Extract and convert the data.
3. Validation (VERIFY): Ensure the data is safe and correct.
This robust architecture ensures that controllers only ever receive validated, strongly-typed data from correctly routed requests.
